library("cartography")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
plot(countries.spdf)
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c")
library("rgdal")
library("cartography")
library("rgdal")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c")
library("cartography")
library("rgdal")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
pdf("output/Fatal.pdf")
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c")
dev.off()
library("cartography")
library("rgdal")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
pdf("output/Fatal.pdf")
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c",inches = 1000)
dev.off()
library("cartography")
library("rgdal")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
pdf("output/Fatal.pdf")
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c",inches = 10)
dev.off()
library("cartography")
library("rgdal")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
pdf("output/Fatal.pdf")
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c",inches = 1)
dev.off()
library("cartography")
library("rgdal")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
pdf("output/Fatal.pdf")
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c",inches = 0.8)
dev.off()
library("cartography")
library("rgdal")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
pdf("output/Fatal.pdf")
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c",inches = 0.7)
dev.off()
library("cartography")
library("rgdal")
setwd("/home/nlambert/Documents/R/ReproducibleCartography/MortsTravail")
# Fond de carte
data("nuts2006")
# Données
fatal.df <- read.csv( "input/eurostat/hsw_mi01_1_Data.csv",header=TRUE,sep=",",dec=".",encoding="latin1",comment.char = "",quote = "\"")
fatal.df <- fatal.df[fatal.df$TIME == 2014,]
fatal.df <-fatal.df[,c("GEO","Value")]
colnames(fatal.df) <- c("id","fatal")
fatal.df$fatal <- as.numeric(as.character(fatal.df$fatal))
fatal.eu.df <- fatal.df[1:3,]
fatal.df <- fatal.df[4:dim(fatal.df)[1],]
# Cartography
pdf("output/Fatal.pdf")
plot(countries.spdf,col="#CCCCCC")
plot(nuts0.spdf[!nuts0.spdf@data$id %in% c("TR","CH","IS","LI","NO"),], col="#AAAAAA",add=T)
plot(nuts0.spdf[nuts0.spdf@data$id %in% c("IS","FI"),], col="white",add=T)
propSymbolsLayer(spdf = countries.spdf, df = fatal.df,
var = "fatal",
symbols = "square", col =  "#920000",
legend.pos = "right",
legend.title.txt = "Nb de morts au travail (2014)",
legend.style = "c",inches = 0.6)
dev.off()
fatal.df
